import{a as b,r as o,j as e,u as w}from"./index-9b7817f1.js";const j=()=>{const p=b(),[r,x]=o.useState({email:"",password:""}),[a,i]=o.useState({}),[n,c]=o.useState(!1),[m,l]=o.useState(""),g=()=>{const s={};return r.email?/\S+@\S+\.\S+/.test(r.email)||(s.email="請輸入有效的電子郵件格式"):s.email="請輸入電子郵件",r.password?r.password.length<6&&(s.password="密碼長度至少為6個字符"):s.password="請輸入密碼",i(s),Object.keys(s).length===0},f=async s=>{if(s.preventDefault(),!!g()){c(!0),l("");try{if(r.email==="123@gmail.com"&&r.password==="abcd123"){const t={id:"1",email:r.email,name:"小明"};localStorage.setItem("token","mock_token"),w.getState().setUser(t),p("/profile")}else l("電子郵件或密碼錯誤")}catch(t){l("登入失敗，請稍後再試"),console.error("Login error:",t)}finally{c(!1)}}},u=s=>{const{name:t,value:h}=s.target;x(d=>({...d,[t]:h})),a[t]&&i(d=>({...d,[t]:void 0}))};return e.jsx("div",{className:"flex flex-col justify-center items-center gap-6 p-7 md:flex-row shadow-md hover:bg-gray-100",children:e.jsxs("div",{className:"bg-white rounded-2xl p-7 shadow-md min-w-[40vw]",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"登入您的帳號"})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"電子郵件"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${a.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"電子郵件",value:r.email,onChange:u}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"密碼"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${a.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"密碼",value:r.password,onChange:u}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.password})]})]}),m&&e.jsx("div",{className:"text-red-500 text-sm text-center",children:m}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${n?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:n?"登入中...":"登入"})})]})]})})};export{j as LoginPage,j as default};
